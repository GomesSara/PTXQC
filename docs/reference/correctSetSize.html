<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Re-estimate a new set size to split a number of items into equally sized sets. — correctSetSize • PTXQC</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Re-estimate a new set size to split a number of items into equally sized sets. — correctSetSize"><meta property="og:description" content="This is useful for plotting large datasets where multiple pages are needed.
E.g. you know that you need 101 barplots, but you only want to fit about 25 per page.
Naively one would now do five plots, with the last one only containing a single barplot.
Using this function with correctSetSize(101, 25) would tell you to use 26 barplots per page,
so you end up with four plots, all roughly equally filled.
It also works the other extreme case, where your initial size is chosen slightly too high, e.g.
Sets of size 5 for just 8 items is too much, because we can reduce the set size to 4 and still
need two sets but now they are much more equally filled (correctSetSize(8, 5) == 4)."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">PTXQC</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">1.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/PTXQC-Basic_Guide_for_R_users.html">Basic R-Usage Guide for PTXQC</a>
    </li>
    <li>
      <a href="../articles/PTXQC-CustomizeReport.html">Customizing PTXQC reports</a>
    </li>
    <li>
      <a href="../articles/PTXQC-DragNDrop.html">Drag'n'drop Usage Guide for PTXQC</a>
    </li>
    <li>
      <a href="../articles/PTXQC-FAQ.html">Frequently asked questions for PTXQC</a>
    </li>
    <li>
      <a href="../articles/PTXQC-Input_And_Output_Data.html">Input/Output data for PTXQC</a>
    </li>
    <li>
      <a href="../articles/PTXQC-ListOfMetrics.html">List of Metrics</a>
    </li>
  </ul></li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/cbielow/PTXQC/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Re-estimate a new set size to split a number of items into equally sized sets.</h1>
    <small class="dont-index">Source: <a href="https://github.com/cbielow/PTXQC/blob/HEAD/R/fcn_misc.R" class="external-link"><code>R/fcn_misc.R</code></a></small>
    <div class="hidden name"><code>correctSetSize.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>This is useful for plotting large datasets where multiple pages are needed.
E.g. you know that you need 101 barplots, but you only want to fit about 25 per page.
Naively one would now do five plots, with the last one only containing a single barplot.
Using this function with correctSetSize(101, 25) would tell you to use 26 barplots per page,
so you end up with four plots, all roughly equally filled.
It also works the other extreme case, where your initial size is chosen slightly too high, e.g.
Sets of size 5 for just 8 items is too much, because we can reduce the set size to 4 and still
need two sets but now they are much more equally filled (correctSetSize(8, 5) == 4).</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">correctSetSize</span><span class="op">(</span><span class="va">item_count</span>, <span class="va">initial_set_size</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>item_count</dt>
<dd><p>Known number of items which need to assigned to sets</p></dd>


<dt>initial_set_size</dt>
<dd><p>Desired number of items a single set should hold</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    

<p>re-estimated set size which a set should hold in order to avoid underfilled sets</p>
    </div>
    <div id="details">
    <h2>Details</h2>
    <p>We allow for up to set sizes of 150% from default, to avoid the last set being sparse (we remove it and distribute to the other bins)
150<!-- %\ oversize is the extreme case, which only happens with sets of size two. With more sets the overhead is much smaller (1/X). -->
Once the number of sets is fixed, we distribute all items equally.</p>
<p>E.g. 6 items &amp; initial_set_size=5, would result in 2 bins (5 items, 1 item), but we'd rather have one bin of 6 items
or 8 items &amp; initial_set_size=5, would result in 2 bins (5+3 items), since the last set is more than half full, but we'd rather have 4+4</p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span> <span class="fu"><a href="https://rdrr.io/r/base/stopifnot.html" class="external-link">stopifnot</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>   <span class="fu">correctSetSize</span><span class="op">(</span><span class="fl">8</span>, <span class="fl">5</span><span class="op">)</span> <span class="op">==</span> <span class="fl">4</span></span></span>
<span class="r-in"><span> <span class="op">)</span></span></span>
<span class="r-in"><span> <span class="fu"><a href="https://rdrr.io/r/base/stopifnot.html" class="external-link">stopifnot</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>   <span class="fu">correctSetSize</span><span class="op">(</span><span class="fl">101</span>, <span class="fl">25</span><span class="op">)</span> <span class="op">==</span> <span class="fl">26</span></span></span>
<span class="r-in"><span> <span class="op">)</span></span></span>
<span class="r-in"><span> </span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Chris Bielow.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer></div>

  


  

  </body></html>

